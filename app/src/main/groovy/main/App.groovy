/*
 * This Groovy source file was generated by the Gradle 'init' task.
 */
package main

class App {
  
    static void main(String[] args) {
        def WIDTH = 10;
        def HEIGHT = 10;
        def SCALE = 125;

        Map map = new Map(WIDTH,HEIGHT);
        RuleSetGenerator rg = new RuleSetGenerator();
        Rule[] r = 
            rg.allowAllOrientations(TileType.LR, TileType.CROSS) + 
            rg.allowAllOrientations(TileType.TB, TileType.CROSS) +
            rg.allowAllOrientations(TileType.CROSS, TileType.CROSS) +
            [
                new Rule(TileType.LR, TileType. LR, Orientation.LEFT),
                new Rule(TileType.LR, TileType. LR, Orientation.RIGHT),
                new Rule(TileType.TB, TileType. TB, Orientation.TOP),
                new Rule(TileType.TB, TileType. TB, Orientation.BOTTOM)
            ]
        
        def gen = new Generator(map, r)
        def fac = new PipeFactory(SCALE, SCALE)
        def stepwise = new StepWise(WIDTH * SCALE,HEIGHT * SCALE, SCALE, gen, fac)
        def finished = new Finished(WIDTH * SCALE,HEIGHT * SCALE, SCALE, gen, fac)
        def renderer = new Renderer(stepwise)

        renderer.setUpGui()

    }
}
